(window.webpackJsonp=window.webpackJsonp||[]).push([[16,43,63],{316:function(e,t,r){"use strict";r.r(t);var a=[[0,1],[0,-1],[-1,0],[1,0],[-1,-1],[-1,1],[1,-1],[1,1]],c=0,n=1,o=2,i=function(e){var t=e.x,r=e.y,a=e.checkerboard,i=e.player,s=e.direction,l=s[0],h=s[1],u=0,d=i?n:o;for(t+=l,r+=h;t>=0&&t<=7&&r>=0&&r<=7&&a[t][r]!==c&&2!==u;){if(a[t][r]===d)u++,d=i?o:n;else if(1!==u)break;t+=l,r+=h}return 2===u};t.default={couldClick:function(e){var t=e.x,r=e.y,c=e.checkerboard,n=e.player;return a.some((function(e){return i({x:t,y:r,checkerboard:c,player:n,direction:e})}))},clickToCover:function(e){var t=e.x,r=e.y,s=e.checkerboard,l=e.player,h=[];return a.forEach((function(e){var a=e[0],u=e[1],d=t,p=r;if(d+=a,p+=u,i({x:t,y:r,checkerboard:s,player:l,direction:e}))for(;d>=0&&d<=7&&p>=0&&p<=7&&s[d][p]!==c&&s[d][p]!==(l?o:n);)s[d][p]=l?o:n,h.push({x:d,y:p}),d+=a,p+=u})),{c:s,r:h}}}},485:function(e,t,r){},87:function(e,t,r){"use strict";r.r(t);var a,c=r(11),n=r(52),o=r.n(n),i=(r(51),r(476)),s=r.n(i),l=(r(475),r(0)),h=r.n(l),u=(r(485),r(316)),d=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(){return(p=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var c in t=arguments[r])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)},b={empty:0,black:1,white:2,blackHover:3,whiteHover:4},k=function(e){function t(t){var r=e.call(this,t)||this;return r.reset=function(e){var t=r.initCheckerboard(),a={checkerboard:t.checkerboard,history:[],step:0,size:t.size};e?r.setState(a):r.state=p({},a)},r.initCheckerboard=function(){var e=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,2,1,0,0,0],[0,0,0,1,2,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]];return{checkerboard:e,size:r.flatten(e).length}},r.flatten=function(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?r.flatten(t):t)}),[])},r.couldClick=function(e){var t=e.x,a=e.y,c=r.state,n=c.checkerboard,o=c.step;return u.default.couldClick({x:t,y:a,checkerboard:n,player:o%2})},r.itemMouseEnter=function(e){var t=e.rowIndex,a=e.itemIndex,c=r.state,n=c.checkerboard,o=c.step,i=b.blackHover,s=b.whiteHover;n[t][a]===b.empty&&r.couldClick({x:t,y:a})&&(n[t][a]=o%2==0?i:s,r.setState({checkerboard:n}))},r.itemMouseLeave=function(e){var t=e.rowIndex,a=e.itemIndex,c=r.state.checkerboard;c[t][a]!==b.blackHover&&c[t][a]!==b.whiteHover||(c[t][a]=b.empty,r.setState({checkerboard:c}))},r.itemClick=function(e){var t=e.rowIndex,a=e.itemIndex,c=r.state,n=c.checkerboard,o=c.step,i=c.history,s=b.black,l=b.white;if(n[t][a]!==s&&n[t][a]!==l&&r.couldClick({x:t,y:a})){n[t][a]=o%2==0?s:l;var h=u.default.clickToCover({x:t,y:a,checkerboard:n,player:o%2}),d=h.c,p=h.r;i.push({curr:{x:t,y:a},reverse:p}),r.setState({checkerboard:d,step:i.length,history:i})}},r.pass=function(){var e=r.state.history;e.push({}),r.setState({step:e.length,history:e})},r.retract=function(){var e=r.state,t=e.history,a=e.checkerboard,c=t.pop(),n=c.curr,o=c.reverse;if(n){var i=n.x,s=n.y,l=b.empty,h=b.black,u=b.white;a[i][s]=l,o.forEach((function(e){a[e.x][e.y]=a[e.x][e.y]===u?h:u}))}r.setState({history:t,step:t.length,checkerboard:a})},r.renderItem=function(e,t,a){var n=r.state.checkerboard[t][a],o=b.black,i=b.white,s=b.blackHover,l=b.whiteHover,u=n?["chosen"]:[];if(u.length)switch(n){case o:u.push("black selected");break;case i:u.push("white selected");break;case s:u.push("black");break;case l:u.push("white")}return h.a.createElement("td",{className:"item",key:a,onClick:c.a.handle(r.itemClick,{rowIndex:t,itemIndex:a}),onMouseOver:c.a.handle(r.itemMouseEnter,{rowIndex:t,itemIndex:a}),onMouseLeave:c.a.handle(r.itemMouseLeave,{rowIndex:t,itemIndex:a})},h.a.createElement("div",{className:u.join(" ")},h.a.createElement("div",{className:"chess front"}),h.a.createElement("div",{className:"chess back"})))},r.renderRow=function(e,t){return h.a.createElement("tr",{className:"row",key:t},e.map((function(e,a){return r.renderItem(e,t,a)})))},r.getScore=function(){var e=r.state.checkerboard,t=0,a=0;return e.forEach((function(e){return e.forEach((function(e){e===b.black&&t++,e===b.white&&a++}))})),{black:t,white:a}},r.isWin=function(e){var t,r=e.black,a=e.white,c="";r+a===e.size?r>a?(c="Victory",t="black wins"):r<a?(c="Victory",t="white wins"):(c="Peace",t="Draw"):r&&a||(r?(c="Victory",t="black wins"):a&&(c="Victory",t="white wins")),c&&t&&s.a.info({title:c,content:t})},r.reset(),r}return d(t,e),t.prototype.render=function(){var e=this.state,t=e.checkerboard,r=e.history,a=e.step,c=e.size,n=this.props.isMobile,i=this.getScore(),s=i.black,l=i.white,u=s+l===c||r.length&&0===Object.keys(r[r.length-1]).length;return this.isWin({black:s,white:l,size:c}),h.a.createElement("div",{className:"reversi-wrapper"},h.a.createElement("div",{className:"reversi-top"},h.a.createElement("div",{className:"top black "+(n?"":"bigger")+" "+(a%2==1?"":"current")},s),h.a.createElement("div",{className:"top white "+(n?"":"bigger")+" "+(a%2==1?"current":"")},l)),h.a.createElement("div",{className:n?"checkerboard":"checkerboard bigger"},h.a.createElement("table",null,h.a.createElement("tbody",null,t.map(this.renderRow)))),h.a.createElement("div",{className:"reversi-bottom"},h.a.createElement(o.a,{type:"primary",disabled:0===r.length,onClick:this.reset},"Reset"),h.a.createElement(o.a,{type:"primary",disabled:!!u,onClick:this.pass},"Pass"),h.a.createElement(o.a,{type:"primary",disabled:0===r.length,onClick:this.retract},"Retract")))},t}(h.a.Component);t.default=c.a.connect({component:k,mapStateToProps:function(e){return{isMobile:e.common.isMobile}}})}}]);
//# sourceMappingURL=16.f7b0ca569c26fccf1f16.bundle.js.map