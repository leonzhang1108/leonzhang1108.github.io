(window.webpackJsonp=window.webpackJsonp||[]).push([[22,57],{350:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r,o=n(19),a=n(55),i=n.n(a),s=(n(63),n(341)),c=n.n(s),d=(n(340),n(0)),u=n.n(d),m=(n(350),r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(t){var n=e.call(this,t)||this;return n.reset=function(){var e=n.props.isMobile?3:15,t={size:e,renju:n.props.isMobile?3:5,showNumber:!1,step:0,positions:[],checkerboard:n.calculateCheckerboard(e)};n.setState(t)},n.calculateCheckerboard=function(e){for(var t=[],n=0;n<e;n++){for(var r=[],o=0;o<e;o++)r.push({state:0,index:-1});t.push(r)}return t},n.mouseEnter=function(e){var t=e.rowIndex,r=e.itemIndex;n.setCheckerboard({state:1,rowIndex:t,itemIndex:r})},n.mouseLeave=function(e){var t=e.rowIndex,r=e.itemIndex;n.setCheckerboard({state:0,rowIndex:t,itemIndex:r})},n.itemClick=function(e){var t=e.rowIndex,r=e.itemIndex,o=n.state.step;n.setCheckerboard({state:o%2==1?3:2,rowIndex:t,itemIndex:r},!0)},n.setCheckerboard=function(e,t){var r=e.state,o=e.rowIndex,a=e.itemIndex,i=n.state,s=i.checkerboard,c=i.step,d=i.positions;2!==s[o][a].state&&3!==s[o][a].state&&(s[o][a]={state:r,index:t?c:-1},n.setState({checkerboard:s,step:t?c+1:c,positions:t?d.concat({row:o,column:a}):d},(function(){return t&&!n.isWin({rowIndex:o,itemIndex:a,state:r})&&n.isPeace()})))},n.isPeace=function(){var e=n.state,t=e.size;t*t===e.step&&c.a.info({title:"Peace",content:"Draw"})},n.isWin=function(e){var t=e.rowIndex,r=e.itemIndex,o=e.state,a=n.isColumnWin({rowIndex:t,itemIndex:r,state:o})||n.isRowWin({rowIndex:t,itemIndex:r,state:o})||n.isSkewWin({rowIndex:t,itemIndex:r,state:o});return a&&c.a.info({title:"Victory",content:(2===o?"black":"white")+" wins"}),a},n.isColumnWin=function(e){for(var t=e.rowIndex,r=e.itemIndex,o=e.state,a=n.state,i=a.size,s=a.checkerboard,c=a.renju,d=0,u=-(c-1);u<=c-1&&(t+u>=0&&t+u<i&&s[t+u][r].state===o?d++:d=0,d!==c);u++);return d===c},n.isRowWin=function(e){for(var t=e.rowIndex,r=e.itemIndex,o=e.state,a=n.state,i=a.size,s=a.checkerboard,c=a.renju,d=0,u=-(c-1);u<=c-1&&(r+u>=0&&r+u<i&&s[t][r+u].state===o?d++:d=0,d!==c);u++);return d===c},n.isSkewWin=function(e){var t=e.rowIndex,r=e.itemIndex,o=e.state;return n.isDownLineWin({rowIndex:t,itemIndex:r,state:o})||n.isUpLineWin({rowIndex:t,itemIndex:r,state:o})},n.isDownLineWin=function(e){for(var t=e.rowIndex,r=e.itemIndex,o=e.state,a=n.state,i=a.size,s=a.checkerboard,c=a.renju,d=0,u=-(c-1);u<=c-1&&(r+u>=0&&r+u<i&&t+u>=0&&t+u<i&&s[t+u][r+u].state===o?d++:d=0,d!==c);u++);return d===c},n.isUpLineWin=function(e){for(var t=e.rowIndex,r=e.itemIndex,o=e.state,a=n.state,i=a.size,s=a.checkerboard,c=a.renju,d=0,u=-(c-1);u<=c-1&&(r+u>=0&&r+u<i&&t-u>=0&&t-u<i&&s[t-u][r+u].state===o?d++:d=0,d!==c);u++);return d===c},n.toggleShowNumber=function(){n.setState({showNumber:!n.state.showNumber})},n.retract=function(){var e=n.state,t=e.step,r=e.positions,o=e.checkerboard,a=r.pop(),i=a.row,s=a.column;o[i][s]={state:0,index:-1},n.setState({step:t-1,positions:r,checkerboard:o})},n.renderItem=function(e,t,r){var a=e.state,i=e.index,s=n.state,c=s.step,d=s.showNumber,m="";switch(a){case 1:m=c%2!=1?"chosen black":"chosen white";break;case 2:m="chosen black selected";break;case 3:m="chosen white selected"}return u.a.createElement("div",{className:"item",key:r,onClick:o.a.handle(n.itemClick,{rowIndex:t,itemIndex:r}),onMouseEnter:o.a.handle(n.mouseEnter,{rowIndex:t,itemIndex:r}),onMouseLeave:o.a.handle(n.mouseLeave,{rowIndex:t,itemIndex:r})},u.a.createElement("div",{className:m},d&&i>=0?i+1:""))},n.renderRow=function(e,t){return u.a.createElement("div",{className:"row",key:t},e.map((function(e,r){return n.renderItem(e,t,r)})))},n}return m(t,e),t.prototype.componentWillMount=function(){this.reset()},t.prototype.render=function(){var e=this.state,t=e.checkerboard,n=e.showNumber,r=e.positions;return u.a.createElement("div",{className:"gobang-wrapper"},u.a.createElement("div",{className:"table-wrapper"},t.map(this.renderRow)),u.a.createElement("div",{className:"button-wrapper"},u.a.createElement(i.a,{type:"primary",disabled:0===r.length,onClick:this.reset},"Reset"),u.a.createElement(i.a,{type:"primary",onClick:this.toggleShowNumber},n?"Hide steps":"Show steps"),u.a.createElement(i.a,{type:"primary",disabled:0===r.length,onClick:this.retract},"Retract")))},t}(u.a.Component);t.default=o.a.connect({component:p,mapStateToProps:function(e){return{isMobile:e.common.isMobile}}})}}]);