(window.webpackJsonp=window.webpackJsonp||[]).push([[11,35,48],{303:function(e,n,t){"use strict";t.r(n);var r=function(e,n,t){var r={v:0,index:-1};return t.some((function(t,a){var i=t.x===e&&t.y===n;return i&&(r={v:t.v,index:a}),i})),r};n.default={moveRight:function(e){for(var n=!1,t=function(t){for(var a=3,i=function(r){var i=-1;!e.some((function(e,n){var o=e.x===r+1&&e.y===t;return e.x===r&&e.y===t&&(i=n),o&&a--,o}))&&i>=0&&(e[i].x=a,n=!0,a--)},o=2;o>=0;o--)i(o);for(o=2;o>=0;o--){var d=r(o,t,e),c=d.v,s=d.index,u=r(o+1,t,e),m=u.v,v=u.index;if(c&&m&&c===m){e[s].x=o+1,e[s].merged=!0,e[v].merged=!0;for(var f=o-1;f>=0;f--){var h=r(f,t,e).index;h>=0&&(e[h].x=e[h].x<3?e[h].x+1:e[h].x)}e.push({x:o+1,y:t,v:2*c,id:Math.random()}),n=!0}}},a=0;a<4;a++)t(a);return{p:e,changed:n}},moveLeft:function(e){for(var n=!1,t=function(t){for(var a=0,i=function(r){var i=-1;!e.some((function(e,n){var o=e.x===r-1&&e.y===t;return e.x===r&&e.y===t&&(i=n),o&&a++,o}))&&i>=0&&(e[i].x=a,n=!0,a++)},o=1;o<4;o++)i(o);for(o=1;o<4;o++){var d=r(o,t,e),c=d.v,s=d.index,u=r(o-1,t,e),m=u.v,v=u.index;if(c&&m&&c===m){e[s].x=o-1,e[s].merged=!0,e[v].merged=!0;for(var f=o;f<=3;f++){var h=r(f,t,e).index;h>=0&&(e[h].x=e[h].x>0?e[h].x-1:e[h].x)}e.push({x:o-1,y:t,v:2*c,id:Math.random()}),n=!0}}},a=0;a<4;a++)t(a);return{p:e,changed:n}},moveDown:function(e){for(var n=!1,t=function(t){for(var a=3,i=function(r){var i=-1;!e.some((function(e,n){var o=e.x===t&&e.y===r+1;return e.x===t&&e.y===r&&(i=n),o&&a--,o}))&&i>=0&&(e[i].y=a,n=!0,a--)},o=2;o>=0;o--)i(o);for(o=2;o>=0;o--){var d=r(t,o,e),c=d.v,s=d.index,u=r(t,o+1,e),m=u.v,v=u.index;if(c&&m&&c===m){e[s].y=o+1,e[s].merged=!0,e[v].merged=!0;for(var f=o-1;f>=0;f--){var h=r(t,f,e).index;h>=0&&(e[h].y=e[h].y<3?e[h].y+1:e[h].y)}e.push({x:t,y:o+1,v:2*c,id:Math.random()}),n=!0}}},a=0;a<4;a++)t(a);return{p:e,changed:n}},moveUp:function(e){for(var n=!1,t=function(t){for(var a=0,i=function(r){var i=-1;!e.some((function(e,n){var o=e.x===t&&e.y===r-1;return e.x===t&&e.y===r&&(i=n),o&&a++,o}))&&i>=0&&(e[i].y=a,n=!0,a++)},o=1;o<4;o++)i(o);for(o=1;o<4;o++){var d=r(t,o,e),c=d.v,s=d.index,u=r(t,o-1,e),m=u.v,v=u.index;if(c&&m&&c===m){e[s].y=o-1,e[s].merged=!0,e[v].merged=!0;for(var f=o;f<=3;f++){var h=r(t,f,e).index;h>=0&&(e[h].y=e[h].y>0?e[h].y-1:e[h].y)}e.push({x:t,y:o-1,v:2*c,id:Math.random()}),n=!0}}},a=0;a<4;a++)t(a);return{p:e,changed:n}}}},464:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},i=[],o=[];function d(e,n,t){e.addEventListener(n,t,!1)}function c(e,n,t){e.removeEventListener(n,t,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function n(n,t){for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];for(var i in a)if(i in e){t.push(a[i]);break}}}"AnimationEvent"in window||(delete r.animationstart.animation,delete a.animationend.animation),"TransitionEvent"in window||(delete r.transitionstart.transition,delete a.transitionend.transition),n(r,i),n(a,o)}();var s={startEvents:i,addStartEventListener:function(e,n){0!==i.length?i.forEach((function(t){d(e,t,n)})):window.setTimeout(n,0)},removeStartEventListener:function(e,n){0!==i.length&&i.forEach((function(t){c(e,t,n)}))},endEvents:o,addEndEventListener:function(e,n){0!==o.length?o.forEach((function(t){d(e,t,n)})):window.setTimeout(n,0)},removeEndEventListener:function(e,n){0!==o.length&&o.forEach((function(t){c(e,t,n)}))}};n.default=s,e.exports=n.default},468:function(e,n,t){},538:function(e,n,t){"use strict";n.a={keyCode:{left:37,up:38,right:39,down:40}}},72:function(e,n,t){"use strict";t.r(n);var r,a=t(11),i=t(52),o=t.n(i),d=(t(51),t(12)),c=t.n(d),s=(t(326),t(495)),u=t.n(s),m=(t(494),t(0)),v=t.n(m),f=(t(468),t(303)),h=t(538),l=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),p=function(){return(p=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},y=new a.a.Storage("2048"),g=h.a.keyCode,x=function(e){function n(n){var t=e.call(this,n)||this;return t.reset=function(e,n){a.a.isArray(e)||(e=[],t.addRandom(e,!0),t.addRandom(e,!0),y.set("pieces",null));var r={size:4,pieces:e,cached:{x:0,y:0}};n?t.state=p({},r):t.setState(r)},t.removeMerged=function(e){var n=t.state.pieces.filter((function(e){return!e.merged}));t.setState({pieces:n},e)},t.touchstart=function(e){var n=e.changedTouches[0],r=n.pageX,a=n.pageY;t.setState({cached:{x:r,y:a}})},t.touchmove=function(e){return e.preventDefault()},t.touchend=function(e){var n=t.state.cached,r=n.x,a=n.y,i=e.changedTouches[0],o=i.pageX,d=i.pageY,c=0;if(Math.abs(r-o)>Math.abs(a-d)&&Math.abs(r-o)>20)c=r-o>0?g.left:g.right;else{if(!(Math.abs(r-o)<Math.abs(a-d)&&Math.abs(a-d)>20))return;c=a-d>0?g.up:g.down}t.doMove(c)},t.keydown=function(e){return t.doMove(e.keyCode)},t.doMove=function(e){t.removeMerged((function(){var n=t.state.pieces,r=n;switch(e){case g.up:var a=f.default.moveUp(n),i=a.p;a.changed&&(r=t.addRandom(i));break;case g.down:var o=f.default.moveDown(n),d=o.p;o.changed&&(r=t.addRandom(d));break;case g.left:var c=f.default.moveLeft(n),s=c.p;c.changed&&(r=t.addRandom(s));break;case g.right:var u=f.default.moveRight(n),m=u.p;u.changed&&(r=t.addRandom(m))}t.setState({pieces:r})}))},t.addRandom=function(e,n){n||setTimeout((function(){return t.setStorage(e)}),0);var r=t.doAddRandom(e);return r&&e.push(r),e},t.setStorage=function(e){y.set("pieces",a.a.clone(e).filter((function(e,n){return e.id=n,!e.merged})))},t.doAddRandom=function(e){if(16===e.length)return null;var n=a.a.random(0,4),r=a.a.random(0,4);return e.some((function(e){return e.x===n&&e.y===r}))?t.doAddRandom(e):{x:n,y:r,v:t.get4or2(),id:Math.random()}},t.get4or2=function(){return Math.random()>.9?4:2},t.renderGrid=function(){return new Array(t.state.size).fill(null).map((function(e,n){return v.a.createElement("div",{className:"row",key:n},new Array(t.state.size).fill(null).map((function(e,n){return v.a.createElement("div",{className:"item",key:n})})))}))},t.isGameOver=function(e){var n=t.state.size;if(e.filter((function(e){return!e.merged})).length!==n*n)return!1;var r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];return e.forEach((function(e){var n=e.x,t=e.y,a=e.v;return r[n][t]=a})),t.canMove(r)},t.canMove=function(e){for(var n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++){if(0===e[n][t])return!1;if(t<e[n].length-1&&e[n][t]===e[n][t+1])return!1;if(n<e.length-1&&e[n][t]===e[n+1][t])return!1}return!0},t.reset(y.get("pieces"),!0),document.addEventListener("keydown",t.keydown),t}return l(n,e),n.prototype.componentDidMount=function(){document.addEventListener("touchstart",this.touchstart),document.addEventListener("touchmove",this.touchmove),document.addEventListener("touchend",this.touchend)},n.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.keydown),document.removeEventListener("touchstart",this.touchstart),document.removeEventListener("touchmove",this.touchmove),document.removeEventListener("touchend",this.touchend)},n.prototype.render=function(){var e=this.state.pieces;return v.a.createElement("div",{className:"game2048-wrapper"},v.a.createElement("div",{className:"game2048-container"},v.a.createElement("div",{className:"grid"},this.renderGrid()),v.a.createElement("div",{className:"piece-contanier"},(e||[]).map((function(e){return v.a.createElement("div",{className:"piece piece-"+e.v+" piece-position-"+e.x+"-"+e.y+" "+(e.merged?"merged":""),key:e.id},v.a.createElement("div",{className:"item"},2048===e.v?v.a.createElement(c.a,{type:"ts-app icon-batman"}):e.v))}))),v.a.createElement("div",{className:this.isGameOver(e)?"mask":"mask hidden"},"Game Over")),v.a.createElement("div",{className:"btn-container"},v.a.createElement(u.a,{title:"Sure about that?",onConfirm:a.a.handle(this.reset),okText:"Yes",cancelText:"No"},v.a.createElement(o.a,{type:"primary",className:"reset-btn"},"Reset"))))},n}(v.a.Component);n.default=x}}]);
//# sourceMappingURL=11.82cb548cc29d3ba92598.bundle.js.map