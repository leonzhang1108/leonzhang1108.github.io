(window.webpackJsonp=window.webpackJsonp||[]).push([[16,45,66],{184:function(e,t,r){"use strict";r.r(t);var a=[[0,1],[0,-1],[-1,0],[1,0],[-1,-1],[-1,1],[1,-1],[1,1]],c=0,n=1,o=2,i=function(e){var t=e.x,r=e.y,a=e.checkerboard,i=e.player,s=e.direction,l=s[0],u=s[1],h=0,d=i?n:o;for(t+=l,r+=u;t>=0&&t<=7&&r>=0&&r<=7&&a[t][r]!==c&&2!==h;){if(a[t][r]===d)h++,d=i?o:n;else if(1!==h)break;t+=l,r+=u}return 2===h};t.default={couldClick:function(e){var t=e.x,r=e.y,c=e.checkerboard,n=e.player;return a.some((function(e){return i({x:t,y:r,checkerboard:c,player:n,direction:e})}))},clickToCover:function(e){var t=e.x,r=e.y,s=e.checkerboard,l=e.player,u=[];return a.forEach((function(e){var a=e[0],h=e[1],d=t,p=r;if(d+=a,p+=h,i({x:t,y:r,checkerboard:s,player:l,direction:e}))for(;d>=0&&d<=7&&p>=0&&p<=7&&s[d][p]!==c&&s[d][p]!==(l?o:n);)s[d][p]=l?o:n,u.push({x:d,y:p}),d+=a,p+=h})),{c:s,r:u}}}},359:function(e,t,r){},92:function(e,t,r){"use strict";r.r(t);var a,c=r(19),n=r(55),o=r.n(n),i=(r(63),r(341)),s=r.n(i),l=(r(340),r(0)),u=r.n(l),h=(r(359),r(184)),d=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=0,f=1,b=2,k=3,m=4,y=function(e){function t(t){var r=e.call(this,t)||this;return r.reset=function(){var e=r.initCheckerboard(),t={checkerboard:e.checkerboard,history:[],step:0,size:e.size};r.setState(t)},r.initCheckerboard=function(){var e=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,2,1,0,0,0],[0,0,0,1,2,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]];return{checkerboard:e,size:r.flatten(e).length}},r.flatten=function(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?r.flatten(t):t)}),[])},r.couldClick=function(e){var t=e.x,a=e.y,c=r.state,n=c.checkerboard,o=c.step;return h.default.couldClick({x:t,y:a,checkerboard:n,player:o%2})},r.itemMouseEnter=function(e){var t=e.rowIndex,a=e.itemIndex,c=r.state,n=c.checkerboard,o=c.step,i=k,s=m;n[t][a]===p&&r.couldClick({x:t,y:a})&&(n[t][a]=o%2==0?i:s,r.setState({checkerboard:n}))},r.itemMouseLeave=function(e){var t=e.rowIndex,a=e.itemIndex,c=r.state.checkerboard;c[t][a]!==k&&c[t][a]!==m||(c[t][a]=p,r.setState({checkerboard:c}))},r.itemClick=function(e){var t=e.rowIndex,a=e.itemIndex,c=r.state,n=c.checkerboard,o=c.step,i=c.history,s=f,l=b;if(n[t][a]!==s&&n[t][a]!==l&&r.couldClick({x:t,y:a})){n[t][a]=o%2==0?s:l;var u=h.default.clickToCover({x:t,y:a,checkerboard:n,player:o%2}),d=u.c,p=u.r;i.push({curr:{x:t,y:a},reverse:p}),r.setState({checkerboard:d,step:i.length,history:i})}},r.pass=function(){var e=r.state.history;e.push({}),r.setState({step:e.length,history:e})},r.retract=function(){var e=r.state,t=e.history,a=e.checkerboard,c=t.pop(),n=c.curr,o=c.reverse;if(n){var i=n.x,s=n.y,l=p,u=f,h=b;a[i][s]=l,o.forEach((function(e){a[e.x][e.y]=a[e.x][e.y]===h?u:h}))}r.setState({history:t,step:t.length,checkerboard:a})},r.renderItem=function(e,t,a){var n=r.state.checkerboard[t][a],o=f,i=b,s=k,l=m,h=n?["chosen"]:[];if(h.length)switch(n){case o:h.push("black selected");break;case i:h.push("white selected");break;case s:h.push("black");break;case l:h.push("white")}return u.a.createElement("td",{className:"item",key:a,onClick:c.a.handle(r.itemClick,{rowIndex:t,itemIndex:a}),onMouseOver:c.a.handle(r.itemMouseEnter,{rowIndex:t,itemIndex:a}),onMouseLeave:c.a.handle(r.itemMouseLeave,{rowIndex:t,itemIndex:a})},u.a.createElement("div",{className:h.join(" ")},u.a.createElement("div",{className:"chess front"}),u.a.createElement("div",{className:"chess back"})))},r.renderRow=function(e,t){return u.a.createElement("tr",{className:"row",key:t},e.map((function(e,a){return r.renderItem(e,t,a)})))},r.getScore=function(){var e=r.state.checkerboard,t=0,a=0;return e.forEach((function(e){return e.forEach((function(e){e===f&&t++,e===b&&a++}))})),{black:t,white:a}},r.isWin=function(e){var t,r=e.black,a=e.white,c="";r+a===e.size?r>a?(c="Victory",t="black wins"):r<a?(c="Victory",t="white wins"):(c="Peace",t="Draw"):r&&a||(r?(c="Victory",t="black wins"):a&&(c="Victory",t="white wins")),c&&t&&s.a.info({title:c,content:t})},r}return d(t,e),t.prototype.componentWillMount=function(){this.reset()},t.prototype.render=function(){var e=this.state,t=e.checkerboard,r=e.history,a=e.step,c=e.size,n=this.props.isMobile,i=this.getScore(),s=i.black,l=i.white,h=s+l===c||r.length&&0===Object.keys(r[r.length-1]).length;return this.isWin({black:s,white:l,size:c}),u.a.createElement("div",{className:"reversi-wrapper"},u.a.createElement("div",{className:"reversi-top"},u.a.createElement("div",{className:"top black "+(n?"":"bigger")+" "+(a%2==1?"":"current")},s),u.a.createElement("div",{className:"top white "+(n?"":"bigger")+" "+(a%2==1?"current":"")},l)),u.a.createElement("div",{className:n?"checkerboard":"checkerboard bigger"},u.a.createElement("table",null,u.a.createElement("tbody",null,t.map(this.renderRow)))),u.a.createElement("div",{className:"reversi-bottom"},u.a.createElement(o.a,{type:"primary",disabled:0===r.length,onClick:this.reset},"Reset"),u.a.createElement(o.a,{type:"primary",disabled:!!h,onClick:this.pass},"Pass"),u.a.createElement(o.a,{type:"primary",disabled:0===r.length,onClick:this.retract},"Retract")))},t}(u.a.Component);t.default=c.a.connect({component:y,mapStateToProps:function(e){return{isMobile:e.common.isMobile}}})}}]);