(window.webpackJsonp=window.webpackJsonp||[]).push([[11,30,31,32,33,37,57],{163:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=function(){return(o=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var r in e=arguments[a])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},i=function(t,e,a){var n=a.transformRow&&a.transformRow.start<=e&&a.transformRow.end>=e;return r.a.createElement("ul",{className:"row "+(n?"row-transform":""),key:e},t.map((function(t,o){return function(t,e,a,n,o){var i=n.transformCol&&n.transformCol.start<=e&&n.transformCol.end>=e;return r.a.createElement("li",{className:"\n        col\n        "+(i?"col-transform":"")+"\n        "+(n.hilightList&&1===n.hilightList[a][e]?"hilight":"")+"\n      ",key:e},n.editable?r.a.createElement("input",{type:"text",value:t,"data-row":a,"data-col":e,"data-ventor":n.ventor,onChange:n.onInput,onBlur:n.onBlur}):r.a.createElement("span",{style:{transform:"rotate("+(n.rotate?"90deg":"0")+")"},className:""!==t?"show":""},t),n.hasShadow?r.a.createElement("div",{className:"shadow "+(o?"show":"")},"×"):"")}(t,o,e,a,n)})))};e.default=function(t){return r.a.createElement("table",{className:t.ventorList?"show":"",style:o({transform:"\n      rotate("+(t.rotate?"-90deg":"0")+")\n      translateX("+(t.left||0)+"px)\n      translateY("+(-t.top||0)+"px)"},t.style)},r.a.createElement("tbody",null,r.a.createElement("tr",null,function(t){return t.ventorList?r.a.createElement("td",null,r.a.createElement("div",{className:"border-left"}),t.ventorList.map((function(e,a){return i(e,a,t)})),r.a.createElement("div",{className:"border-right"})):r.a.createElement("td",null)}(t))))}},168:function(t,e,a){"use strict";a.r(e);var n,r=a(0),o=a.n(r),i=a(163),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),l=function(){return(l=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var r in e=arguments[a])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.render=function(){var t=this.props,e=t.opacity,a=t.btnEdit;return o.a.createElement("div",{className:"v-wrapper"},o.a.createElement("div",{className:"btn-wrapper vertical left",style:{opacity:e}},o.a.createElement("div",{className:"btn","data-id":"1",onClick:a},"-"),o.a.createElement("div",{className:"btn","data-id":"2",onClick:a},"+")),o.a.createElement("div",{className:"v-inner"},o.a.createElement(i.default,l({},this.props,{ventor:"v1",hasShadow:!0})),o.a.createElement("div",{className:"btn-wrapper horizontal",style:{opacity:e}},o.a.createElement("div",{className:"btn","data-id":"3",onClick:a},"-"),o.a.createElement("div",{className:"btn","data-id":"4",onClick:a},"+"))))},e}(o.a.Component);e.default=c},169:function(t,e,a){"use strict";a.r(e);var n,r=a(0),o=a.n(r),i=a(163),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),l=function(){return(l=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var r in e=arguments[a])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.render=function(){var t=this.props,e=t.opacity,a=t.btnEdit,n=t.v2Opacity;return o.a.createElement("div",{className:"v-wrapper"},o.a.createElement("div",{className:"v-inner"},o.a.createElement("div",{className:"display",style:{opacity:n}},o.a.createElement(i.default,l({},this.props,{ventor:"v2"}))),o.a.createElement("div",{className:"btn-wrapper horizontal",style:{opacity:e}},o.a.createElement("div",{className:"btn","data-id":"5",onClick:a},"-"),o.a.createElement("div",{className:"btn","data-id":"6",onClick:a},"+"))),o.a.createElement("div",{className:"btn-wrapper vertical right",style:{opacity:e}},o.a.createElement("div",{className:"btn","data-id":"3",onClick:a},"-"),o.a.createElement("div",{className:"btn","data-id":"4",onClick:a},"+")))},e}(o.a.Component);e.default=c},170:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(163),i=function(t){return{width:2===t.step?t.width:0,opacity:2===t.step?1:0}};e.default=function(t){return r.a.createElement("div",{className:"display",style:i(t)},r.a.createElement(o.default,{ventorList:t.ventorList}))}},171:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(163),i=function(){return(i=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var r in e=arguments[a])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.default=function(t){return r.a.createElement("div",{className:"result"},r.a.createElement(o.default,i({},t)))}},344:function(t,e,a){},85:function(t,e,a){"use strict";a.r(e);var n,r=a(21),o=a(55),i=a.n(o),s=(a(61),a(0)),l=a.n(s),c=a(10),u=a.n(c),f=(a(344),a(168)),p=a(169),d=a(170),h=a(171),v=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),m=function(){return(m=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var r in e=arguments[a])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},b=function(t,e,a,n){return new(a||(a=Promise))((function(r,o){function i(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(i,s)}l((n=n.apply(t,e||[])).next())}))},y=function(t,e){var a,n,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},w=function(t){function e(e){var a=t.call(this,e)||this;return a.getMatrix=function(){for(var t=a.props.isMobile?1:6,e=[],n=0;n<t;n++){for(var r=[],o=0;o<t;o++)r.push(1);e.push(r)}return e},a.onInput=function(t){var e,n=a.getInputValue(t),r=n.v,o=n.col;r[n.row][o]=t.target.value,a.setState(((e={})[r]=r,e))},a.onBlur=function(t){var e,n=a.getInputValue(t),r=n.v,o=n.col,i=n.row;r[i][o]=a.isNumber(t.target.value)?r[i][o]="0"!==t.target.value?t.target.value.replace(/\b(0+)/gi,""):t.target.value:1,a.setState(((e={})[r]=r,e))},a.getInputValue=function(t){var e=t.target.getAttribute("data-col"),n=t.target.getAttribute("data-row"),r=t.target.getAttribute("data-ventor");return{v:a.state[r],col:e,row:n}},a.isNumber=function(t){return!(null===/^(-)?\d+(\.\d+)?$/.exec(t)||""===t)},a.doClick=function(){switch(a.state.step){case 0:a.doMultiply();break;case 1:a.doStep();break;case 2:a.reset();break;default:a.doMultiply()}},a.doAutoComplete=function(){return b(a,void 0,void 0,(function(){var t,e,a;return y(this,(function(n){switch(n.label){case 0:return t=this.state,e=t.level,a=t.step,e>=0&&1===a?[4,this.doStep()]:[3,2];case 1:n.sent(),this.doAutoComplete(),n.label=2;case 2:return[2]}}))}))},a.doStep=function(){return b(a,void 0,void 0,(function(){var t=this;return y(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){var a=t.state,n=a.level,r=a.height1,o=a.width1,i=a.height2,s=a.width2,l=a.cubeSize,c=r/2+o/2+(s-i)/2-2,u=t.state.v1.length+t.state.v2[0].length-1,f=n-1,p=u-f-(s-2)/l,d=u-f-(r-2)/l,h=u-f-1;n?(t.setState({left:c-l*(u-f),level:f,transformRow:{start:p,end:h},transformCol:{start:d,end:h},bottomDisable:!0}),t.doCalculate(u-f),setTimeout((function(){t.setState({bottomDisable:!1}),e()}),300)):(t.setState({left:t.state.left-l,v3Hilight:t.refreshV3Hilight(),transformRow:{start:p,end:h},transformCol:{start:d,end:h},v2Opacity:0,bottomDisable:!0}),setTimeout((function(){t.setState({step:2,transformRow:void 0,transformCol:void 0,rotate:!1,top:0,left:0,bottomDisable:!1}),e()}),600))}))];case 1:return e.sent(),[2]}}))}))},a.doMultiply=function(){var t=u.a.findDOMNode(a.dom),e=u.a.findDOMNode(a.dom2),n=u.a.findDOMNode(a.span),r=t.offsetHeight,o=t.offsetWidth,i=e.offsetHeight,s=e.offsetWidth,l=n.offsetWidth;a.setState({top:r/2+o/2+a.state.offset,editable:!1,bottomDisable:!0,step:1,height1:r,width1:o,height2:i,width2:s}),setTimeout((function(){a.setState({top:o+(s-i)/2+l,left:r/2+o/2+(s-i)/2+a.state.offset,rotate:!0,level:a.state.v1.length+a.state.v2[0].length-1,bottomDisable:!1}),a.doCalculateV3Size()}),600)},a.doCalculateV3Size=function(){var t=a.state,e=t.v1,n=t.v2,r=[],o=[];e.forEach((function(){var t=[];n[0].forEach((function(){return t.push("")})),r.push(t),o.push(t.map((function(){return 0})))})),a.setState({v3:r,v3Hilight:o})},a.doCalculate=function(t){for(var e=a.state,n=e.v1,r=e.v2,o=e.v3,i=--t,s=a.refreshV3Hilight(),l=function(e){var i=0;(!o||t<o.length)&&(n[t].forEach((function(t,a){return i+=t*r[a][e]})),o&&t<o.length&&e<o[0].length&&(a.setResult(i,t,e),s&&(s[t][e]=1))),t--},c=0;c<=i;c++)l(c);a.setState({v3Hilight:s})},a.refreshV3Hilight=function(){return a.state.v3Hilight&&a.state.v3Hilight.map((function(t){return t.map((function(){return 0}))}))},a.setResult=function(t,e,n){var r=a.state.v3;r&&(r[e][n]=t),a.setState({v3:r})},a.btnEdit=function(t){var e=t.target.getAttribute("data-id"),n=a.state,r=n.v1,o=n.v2;if(0===n.step)switch(Number(e)){case 1:a.setState({v1:a.deleteRow(r)});break;case 2:a.setState({v1:a.addRow(r)});break;case 3:a.setState({v1:a.deleteCol(r),v2:a.deleteRow(o)});break;case 4:a.setState({v1:a.addCol(r),v2:a.addRow(o)});break;case 5:a.setState({v2:a.deleteCol(o)});break;case 6:a.setState({v2:a.addCol(o)})}},a.addRow=function(t){return t.push(t[0].map((function(){return 1}))),t},a.deleteRow=function(t){return t.length>1&&t.splice(t.length-1,1),t},a.addCol=function(t){return t.map((function(t){return t.push(1)})),t},a.deleteCol=function(t){return t.map((function(t){return t.length>1&&t.splice(t.length-1,1)})),t},a.reset(!0),a}return v(e,t),e.prototype.reset=function(t){var e={offset:10,cubeSize:50,step:0,level:0,editable:!0,v1:this.getMatrix(),v2:this.getMatrix(),v3:void 0,v3Hilight:void 0,top:0,left:0,rotate:!1,bottomDisable:!1,height1:0,width1:0,height2:0,width2:0,v2Opacity:1};if(t)this.state=e;else{var a=this.state,n=a.v1,r=a.v2;this.setState(m(m({},e),{v1:n,v2:r}))}},e.prototype.render=function(){var t=this,e="",a="",n=0;switch(this.state.step){case 0:e="Multiply",a="×",n=1;break;case 1:e="Next",a="=",n=0;break;case 2:e="Reset",a="×",n=0;break;default:e="Multiply",a="×",n=1}return l.a.createElement("div",{className:"matrix-wrapper"},l.a.createElement("div",{className:"matrix-content"},l.a.createElement(f.default,{ref:function(e){return t.dom=e},ventorList:this.state.v1,editable:this.state.editable,onInput:this.onInput,onBlur:this.onBlur,transformRow:this.state.transformRow,opacity:n,btnEdit:this.btnEdit}),l.a.createElement("span",{ref:function(e){return t.span=e}},a),l.a.createElement(d.default,{ventorList:this.state.v2,step:this.state.step,width:this.state.width2}),l.a.createElement(p.default,{ref:function(e){return t.dom2=e},ventorList:this.state.v2,editable:this.state.editable,onInput:this.onInput,onBlur:this.onBlur,top:this.state.top,left:this.state.left,rotate:this.state.rotate,opacity:n,v2Opacity:this.state.v2Opacity,btnEdit:this.btnEdit,transformCol:this.state.transformCol}),l.a.createElement("span",{style:{transform:"translateX("+-this.state.width2+"px)",opacity:2===this.state.step?1:0,width:2===this.state.step?60:0}},"="),l.a.createElement(h.default,{ventorList:this.state.v3,hilightList:this.state.v3Hilight})),l.a.createElement("div",{className:"matrix-bottom"},l.a.createElement(i.a,{disabled:this.state.bottomDisable,type:"primary",size:"large",onClick:this.doClick},e),1===this.state.step?l.a.createElement(i.a,{disabled:this.state.bottomDisable,type:"primary",size:"large",onClick:this.doAutoComplete},"Auto Complete"):""))},e}(l.a.Component);e.default=r.a.connect({component:w,mapStateToProps:function(t){return{isMobile:t.common.isMobile}}})}}]);
//# sourceMappingURL=11.ea8200a09763f757e838.bundle.js.map