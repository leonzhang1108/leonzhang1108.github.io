{"version":3,"sources":["webpack:///./src/pages/MusicVisualizer/tools.ts"],"names":["draw","param","ctx","height","width","bars","barColor","arr","volume","vol","clearRect","Array","isArray","createLinearGradient","length","forEach","color","i","addColorStop","fillStyle","rectWidth","barWidth","capHeight","Math","min","rectHeight","capDistance","fillRect"],"mappings":"2FAAA,OAAe,WACbA,KAAM,SAAAC,GACI,IAAAC,EAAuCD,EAAK,IAAvCE,EAAkCF,EAAK,OAA/BG,EAA0BH,EAAK,MAAxBI,EAAmBJ,EAAK,KAAlBK,EAAaL,EAAK,SACpD,OAAO,SAACM,EAAKC,GACX,IAAMC,EAAMD,EAEZ,GADAN,EAAIQ,UAAU,EAAG,EAAGN,EAAOD,GACvBQ,MAAMC,QAAQN,GAAW,CAC3B,IAAM,EAAOJ,EAAIW,qBAAqB,EAAG,EAAG,EAAGV,GACzC,EAAMG,EAASQ,OACrBR,EAASS,SAAQ,SAACC,EAAOC,GACvB,EAAKC,aAAaD,GAAK,EAAM,GAAID,MAEnCd,EAAIiB,UAAY,OAEhBjB,EAAIiB,UAAYb,EAKlB,IAHA,IAAMc,EAAYhB,EAAQC,EACpBgB,EAAuB,GAAZD,EACXE,EAAYC,KAAKC,IAAIH,EAAU,IAAMZ,EAClCQ,EAAI,EAAGA,EAAIZ,EAAMY,IAAK,CAC7B,IAAMQ,EAAclB,EAAIU,GAAK,IAAOd,EAASM,EACvCiB,EACJnB,EAAIU,GAAK,EAAIM,KAAKC,IAAIC,EAAa,GAAItB,EAASmB,GAAa,EAC/DpB,EAAIyB,SAASP,EAAYH,EAAGd,EAASsB,EAAYJ,EAAUI,GAC3DvB,EAAIyB,SACFP,EAAYH,EACZd,GAAUuB,EAAcJ,GACxBD,EACAC","file":"js/40.924e906e8c786118c30e.bundle.js","sourcesContent":["export default {\n  draw: param => {\n    const { ctx, height, width, bars, barColor } = param\n    return (arr, volume) => {\n      const vol = volume\n      ctx.clearRect(0, 0, width, height)\n      if (Array.isArray(barColor)) {\n        const line = ctx.createLinearGradient(0, 0, 0, height)\n        const len = barColor.length\n        barColor.forEach((color, i) => {\n          line.addColorStop(i / (len - 1), color)\n        })\n        ctx.fillStyle = line\n      } else {\n        ctx.fillStyle = barColor\n      }\n      const rectWidth = width / bars\n      const barWidth = rectWidth * 0.5\n      const capHeight = Math.min(barWidth, 10) * vol\n      for (let i = 0; i < bars; i++) {\n        const rectHeight = (arr[i] / 256) * height * vol\n        const capDistance =\n          arr[i] > 0 ? Math.min(rectHeight + 40, height - capHeight) : 0\n        ctx.fillRect(rectWidth * i, height - rectHeight, barWidth, rectHeight)\n        ctx.fillRect(\n          rectWidth * i,\n          height - (capDistance + capHeight),\n          barWidth,\n          capHeight\n        )\n      }\n    }\n  }\n}\n"],"sourceRoot":""}